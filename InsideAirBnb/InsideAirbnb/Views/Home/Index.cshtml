@model InsideAirbnb.Models.ViewModels.HomeViewModel
@{
    ViewData["Title"] = "Home Page";
}
@section Scripts {
    <script src="~/js/mapbox.js" asp-append-version="true"></script>
    <script src="~/js/Charts.js" asp-append-version="true"></script>
}
<div class="map-container row">
    <div id='map' style="height:calc(100% - 57px)" class="col-md-8"></div>
    <div id='feature-listing' class='listing'></div>
    <nav id='filter-group' class='filter-group'></nav>
    <div class="map-sidebar col-md-4">
        <div class="row">
            <div class="col-md-6">
                <h3 id="filter_value">Amsterdam</h3>
                <label for="map_filter">Filter by:</label><br />
                <select class="form-control" id="map_filter">
                    <option value="Amsterdam">Amsterdam</option>
                    <optgroup label="neighbourhood">
                        @foreach (var item in Model.neighbourhoods)
                        {
                            <option value="@item.Neighbourhood">@item.Neighbourhood</option>}
                    </optgroup>
                    <optgroup label="price">
                        <option value="50"><= 50</option>
                        <option value="100"><= 100</option>
                        <option value="200"><= 200</option>
                        <option value="400"><= 400</option>
                        <option value="800"><= 800</option>
                        <option value="1000"><= 1000</option>
                        <option value="1000+">> 1000</option>
                    </optgroup>
                    <optgroup label="review rating">
                        <option value="10"><= 10</option>
                        <option value="20"><= 20</option>
                        <option value="30"><= 30</option>
                        <option value="40"><= 40</option>
                        <option value="50"><= 50</option>
                        <option value="60"><= 60</option>
                        <option value="70"><= 70</option>
                        <option value="80"><= 80</option>
                        <option value="90"><= 90</option>
                        <option value="100"><= 100</option>
                    </optgroup>
                </select>
            </div>
            <div class="col-md-6 center">
                <div class="center">
                    <h3># <text id="number_listings_loaded"></text> NUMBER LISTINGS LOADED</h3>

                </div>
            </div>
        </div>
        <hr />
        <div class="col-md-12">
            <p><b>How is Airbnb really being used in and affecting your neighbourhoods?</b></p>
        </div>
        <div class="row">
            <div class="col-md-6 ">
                <b>Room Type</b>
            </div>
            <div class="col-md-6" style="text-align: right;">
                <label for="apartmentFilterCheckbox" style="font-size:10px">
                    Only entire homes/apartments
                    <input id="apartmentFilterCheckbox" type="checkbox" name="filterApertmentsOnly" style="float:left" />
                </label>
            </div>
        </div>
        <hr style="margin:0px" />
        <div class="row" style="margin-right:3px;">
            <div class="col-md-4 no-padding">
                <p>
                    Airbnb hosts can list entire homes/apartments, private or shared rooms.
                    Depending on the room type, <a href="#">availability</a>, and <a href="#">activity</a>, an airbnb listing could be more like a hotel, disruptive for neighbours, taking away housing, and <a href="#">illigal</a>.
                </p>
            </div>
            <div class="col-md-6 chart-container no-padding" style="position: relative; height:40vh; width:80vw;">
                <canvas id="myChart"></canvas>
            </div>
            <div class="col-md-2 no-padding percentages">
                <span id="entireHomeApartmentsPercentage">NNN (%%)</span>
                <p class="sub-text">Entire homes/apartments</p>
                <span id="priceTagApertments">PRICE</span>
                <p class="sub-text">price/night</p>
                <span id="EntireHomeCount">(COUNT) (%%)</span>
                <p class="sub-text">Entire homes/apartments</p>
                <span id="privateRoomCount">(COUNT) (%%)</span>
                <p class="sub-text">private rooms</p>
                <span id="sharedRoomsCount">(COUNT) (%%)</span>
                <p class="sub-text">shared rooms</p>
            </div>
        </div>
        @*
            End graph section right side
            Start Activity Tab
        *@
        <div class="row">
            <div class="col-md-6">
                <b>Activity</b>
            </div>
            <div class="col-md-6" style="text-align: right;">
                <label for="apartmentFilterCheckbox" style="font-size:10px">
                    Only <b>recent </b>and <b>frequently </b>booked.
                    <input id="activeFilterCheckbox" type="checkbox" name="activeFilterCheckbox" style="float:left" />
                </label>
            </div>
        </div>
        <hr class="separator" />
        <div class="row" style="margin-right:3px;">
            <hr style="margin:0px" />
            <div class="col-md-10">
                <p>Airbnb guests may leave a review after their stay, and these can be used as an indicator of airbnb activity.</p>
                <p>The minimum stay, price and number of reviews have been used to estimate the occupancy rate, the number of nights per year and the income per month for each listing.</p>
                <p>How does the income from Airbnb compare to a long-term lease?</p>
                <p>Do the number of nights booked per year make it impossible for a listing to be used for residential housing?</p>
                <p>And what is renting to a tourist full-time rather than a resident doing to our neighbourhoods and cities?</p>
            </div>
            <div class="col-md-2 no-padding percentages">
                <span id="entireHomeApartmentsPercentage">NNN (%%)</span>
                <p class="sub-text">estimated nights/year</p>
                <span id="">PRICE</span>
                <p class="sub-text">reviews/listing/month</p>
                <span id="">(COUNT) (%%)</span>
                <p style="font-size:12px;text-align: right;">reviews</p>
                <span id="">(COUNT) (%%)</span>
                <p class="sub-text">estimated occupancy</p>
                <span id="">(COUNT) (%%)</span>
                <p class="sub-text">estimated income/month</p>
            </div>
        </div>
        @*
            End Active right side
            Start Availability Tab
        *@
        <div class="row">
            <div class="col-md-6">
                <b>Availability</b>
            </div>
            <div class="col-md-6" style="text-align: right;">
                <label for="onlyAvailabiltyCheckboc" style="font-size:10px">
                    Only HIGH available.
                    <input id="onlyAvailabiltyCheckboc" type="checkbox" name="onlyAvailabiltyCheckbox" style="float:left" />
                </label>
            </div>
        </div>
        <hr class="separator" />
        <div class="row" style="margin-right:3px;">
            <hr style="margin:0px" />
            <div class="col-md-10">
                <p>An Airbnb host can setup a calendar for their listing so that it is only available for a few days or weeks a year.</p>
                <p>Other listings are available all year round (except for when it is already booked).</p>
                <p>Entire homes or apartments <b style="text-decoration:underline;">highly available </b>year-round for tourists, probably don't have the owner present, could be illegal, and more importantly, are displacing residents.</p>
            </div>
            <div class="col-md-2 no-padding percentages">
                <span id="entireHomeApartmentsPercentage">NNN (%%)</span>
                <p class="sub-text">estimated nights/year</p>
                <span id="">PRICE</span>
                <p class="sub-text">reviews/listing/month</p>
                <span id="">(COUNT) (%%)</span>
                <p style="font-size:12px;text-align: right;">reviews</p>
                <span id="">(COUNT) (%%)</span>
                <p class="sub-text">estimated occupancy</p>
                <span id="">(COUNT) (%%)</span>
                <p class="sub-text">estimated income/month</p>
            </div>
        </div>
    </div>
</div>